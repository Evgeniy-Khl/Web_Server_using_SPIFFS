<!DOCTYPE html>
<!-- 
  Rui Santos
  Complete project details at https://RandomNerdTutorials.com  
-->
<html>
<head>
  <title>ESP8266 Web Server</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="data:,">
  <!--link rel="stylesheet" type="text/css" href="style.css">
  <!-- Стилі для елементів сторінки -->
  <style>
	html {
	  font-family: Arial;
	  display: inline-block;
	  margin: 0px auto;
	  text-align: center;
	}
    body {
  	  background-color: lightblue;
	}
    h1 {
  	  color: white;
  	  text-align: center;
	}
    div {
      width: 400px;
      border: 5px solid Gray;
      padding: 10px;
      margin: 0px auto;
	}
	p {
	  font-size: 1.5rem;
	}
	.button {
	  display: inline-block;
	  background-color: #008CBA;
	  border: none;
	  border-radius: 4px;
	  color: white;
	  padding: 16px 40px;
	  text-decoration: none;
	  font-size: 30px;
	  margin: 2px;
	  cursor: pointer;
	}
	.button1 {
	  background-color: #06bf34;
	}
	.button2 {
	  background-color: #f44336;
	}
	.units {
	  font-size: 1.2rem;
	 }
	.sensor-labels {
	  font-size: 1.5rem;
	  text-decoration: underline;
	}
  </style>
</head>
<body>
  <h1>ESP8266 Web Server</h1> 
  <p>
    <a href="/off"><button class="button button1">START</button></a>
    <a href="/on"><button class="button button2">STOP</button></a>
  </p>
  <div>
  <p>
    <span class="sensor-labels">Температура</span>
    <span style="font-size:50px" id="temperature">%TMP%</span>
    <sup class="units">&deg;C</sup>
  </p>
  <p>
    <span class="sensor-labels">Влажность</span>
    <span style="font-size:50px" id="humidity">%HUM%</span>
    <sup class="units">&#37;</sup>
  </p>
  </div>
  <p></p>
  <div>
  <p>РАБОТА (2) <strong> %STATE2%</strong></p>
  <p>НАГРЕВ (5) <strong> %STATE5%</strong></p>
  <p>УВЛАЖНЕНИЕ (4) <strong> %STATE4%</strong></p>
  <p>ОХЛАЖДЕНИЕ (14)<strong> %STATE14%</strong></p>
  <p>ВЕНТИЛЯЦИЯ (12)<strong> %STATE12%</strong></p>
  <p>ОСВЕЩЕНИЕ (13)<strong> %STATE13%</strong></p>
  </div>
  <p>
    <a href="/setup"><button class="button">Установки</button></a>
    <a href="/switch"><button class="button">Переключатели</button></a>
  </p>
</body>
<script>
  setInterval(function ( ) {
    var xhttp = new XMLHttpRequest();			// XMLHttpRequest (XHR)- об'єкт для відправки і отримання даних з сервера без перезавантаження веб-сторінки.
    xhttp.onreadystatechange = function() {
      if (this.readyState == 4 && this.status == 200) {
        document.getElementById("temperature").innerHTML = this.responseText;
      }
    };
    xhttp.open("GET", "/temperature", true);	// асинхронний способ
    xhttp.send();
  }, 10000 ) ;

  setInterval(function ( ) {
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
      if (this.readyState == 4 && this.status == 200) {
        document.getElementById("humidity").innerHTML = this.responseText;
      }
    };
    xhttp.open("GET", "/humidity", true);		// асинхронний способ
    xhttp.send();
  }, 10000 ) ;

  setInterval(function ( ) {
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
      if (this.readyState == 4 && this.status == 200) {
        document.getElementById("pressure").innerHTML = this.responseText;
      }
    };
    xhttp.open("GET", "/pressure", true);		// асинхронний способ
    xhttp.send();
  }, 10000 ) ;
</script>
</html>